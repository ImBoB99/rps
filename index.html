<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock paper scissors</title>
</head>

<body style="background-color: #101010; color: white;">

    <button id="0">Rock</button>
    <button id="1">Paper</button>
    <button id="2">Scissors</button>

    <p class="results"></p>


    <script>

        let score = [0, 0, 0] // player, computer, draws

        const buttons = document.querySelectorAll("button");
        buttons.forEach((button) => {
            button.addEventListener("click", () => {
                let humanChoice = Number(button.id); // clicking picks between 0, 1 or 2
                let computerChoice = getComputerChoice();
                playRound(humanChoice, computerChoice)
            })
        })

        function getComputerChoice() {
            random = Math.floor(Math.random() * 3)
            return random
        }

        function showResults() {
            const p = document.querySelector(".results")

            p.innerHTML = `Player: ${score[0]}, Computer: ${score[1]}, Draws: ${score[2]}`

            if (score[0] + score[1] + score[2] === 5) {
                if (score[0] > score[1]) {
                    p.innerHTML = `Player wins with: ${score[0]}`
                } else {
                    p.innerHTML = `Computer wins with ${score[1]} wins`
                }

                score = [0, 0, 0]
            }
        }

        function playRound(humanChoice, computerChoice) {

            if (humanChoice === computerChoice) {
                score[2] += 1
                showResults()
            } else if ((computerChoice + 1) % 3 === humanChoice) {
                score[0] += 1
                showResults()
            } else {
                score[1] += 1
                showResults()
            }
        }

    </script>
</body>

</html>